#!/bin/bash

echo "üöÄ √âTAPE SUIVANTE : Int√©gration Compl√®te N8N - Orientation Pro Congo"

# Couleurs
GREEN='\033[0;32m'
BLUE='\033[0;34m'
YELLOW='\033[1;33m'
RED='\033[0;31m'
NC='\033[0m'

echo ""
echo -e "${YELLOW}üìã √âTAPE ACTUELLE : Import des Workflows N8N${NC}"
echo "=================================================="
echo ""
echo -e "${BLUE}üåê Acc√©dez √† N8N:${NC}"
echo "   http://localhost:5678"
echo ""
echo -e "${BLUE}üîê Identifiants:${NC}"
echo "   Utilisateur: admin"
echo "   Mot de passe: orientationpro2024"
echo ""

echo -e "${YELLOW}üìÅ Fichiers de workflows √† importer:${NC}"
echo "   /opt/orientationpro/workflows/"
echo "   ‚Ä¢ test-completion-workflow.json"
echo "   ‚Ä¢ user-registration-workflow.json"
echo "   ‚Ä¢ cv-analysis-workflow.json"
echo "   ‚Ä¢ email-notifications-workflow.json"
echo "   ‚Ä¢ appointment-reminder-workflow.json"
echo ""

echo -e "${GREEN}üìã Instructions d√©taill√©es:${NC}"
echo "=================================="
echo ""
echo -e "${BLUE}1. Import des Workflows:${NC}"
echo "   - Allez sur http://localhost:5678"
echo "   - Connectez-vous avec admin/orientationpro2024"
echo "   - Cliquez sur 'Workflows' dans le menu"
echo "   - Cliquez sur 'Import from file'"
echo "   - S√©lectionnez les fichiers depuis /opt/orientationpro/workflows/"
echo ""
echo -e "${BLUE}2. Activation des Workflows:${NC}"
echo "   - Ouvrez chaque workflow import√©"
echo "   - Cliquez sur le toggle 'Active' (en haut √† droite)"
echo "   - Le toggle devient vert quand le workflow est actif"
echo "   - Sauvegardez les changements (Ctrl+S)"
echo ""
echo -e "${BLUE}3. V√©rification:${NC}"
echo "   - Ex√©cutez: ./test-workflows-after-import.sh"
echo "   - Tous les webhooks doivent retourner HTTP 200/201"
echo ""

echo -e "${YELLOW}üéØ Workflows √† activer:${NC}"
echo "   ‚Ä¢ Test Completion - Traitement automatique des r√©sultats de tests"
echo "   ‚Ä¢ User Registration - Automatisation de l'inscription des utilisateurs"
echo "   ‚Ä¢ CV Analysis - Analyse automatique des CV"
echo "   ‚Ä¢ Email Notifications - Gestion des emails"
echo "   ‚Ä¢ Appointment Reminder - Rappels automatiques de rendez-vous"
echo ""

echo -e "${GREEN}üöÄ Une fois activ√©s, N8N automatiser√°:${NC}"
echo "   ‚Ä¢ Traitement des tests d'orientation"
echo "   ‚Ä¢ Inscription automatique des utilisateurs"
echo "   ‚Ä¢ Analyse automatique des CV"
echo "   ‚Ä¢ Envoi d'emails automatiques"
echo "   ‚Ä¢ Rappels de rendez-vous automatiques"
echo ""

echo -e "${BLUE}üìö Documentation compl√®te:${NC}"
echo "   /opt/orientationpro/docs/N8N_INTEGRATION.md"
echo ""
echo -e "${BLUE}üß™ Scripts de test disponibles:${NC}"
echo "   ‚Ä¢ ./check-workflows-status.sh - V√©rifier l'√©tat des workflows"
echo "   ‚Ä¢ ./test-workflows-after-import.sh - Tester les webhooks"
echo "   ‚Ä¢ ./import-activate-workflows.sh - Instructions d'import"
echo ""

echo -e "${YELLOW}üí° Conseil:${NC}"
echo "   Importez un workflow √† la fois pour √©viter les conflits"
echo "   V√©rifiez que chaque workflow est activ√© avant de passer au suivant"
echo ""

echo -e "${GREEN}üéâ Pr√™t √† transformer Orientation Pro Congo en plateforme intelligente !${NC}"
echo ""
echo -e "${BLUE}üìû Prochaine √©tape:${NC}"
echo "   Une fois les workflows import√©s et activ√©s, nous pourrons:"
echo "   ‚Ä¢ Int√©grer N8N avec le frontend React"
echo "   ‚Ä¢ Configurer les webhooks dans l'application"
echo "   ‚Ä¢ Tester l'automatisation compl√®te"
echo "   ‚Ä¢ Optimiser les performances" 